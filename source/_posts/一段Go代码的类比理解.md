---
title: 一段Go代码的类比理解
date: 2022-09-30 15:35:02
tags: metaphors
---i

### Go

```go
func test(p **int) {
  x := 100
  *p = &x
}

func main() {
  var p *int
  test(&p)
}
```



### 类比

> ```go
> var p *int
> ```
>
> 老板让小二为贵客找一间房：小二去找了一个特殊房间（这种房间不住客，只记录客人要居住房间的类型，在哪间房间）记录了客人类型为int，要居住的房间暂未定，并把这间房挂了个牌子p
>
>
>
> ```go
>  x := 100
> ```
>
> 贵客100来了，小二把100安排到了二楼右转的最后一间房子。
>
>
>
> ```go
>  *p = &x
> ```
>
> 小二把 “二楼右转最后一间” 这个房间地址填写到了特殊房间p的记录里。
>
> 现在房间p里就有了一段记录：客人100住在了二楼右转最后一间。
>
>
>
> ```go
> var pp **int
> ```
>
> 这个就是申请了一间比p房间更特殊的房间，这个房间只记录房间类型为*int的信息。
>
> 比如记录：记录着 ”客人100住在了二楼右转最后一间“ 的房间的地址为最顶楼的右转的第一间房间。
>
>


