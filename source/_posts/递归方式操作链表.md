---
title: 递归方式操作链表
date: 2022-10-12 17:54:04
tags: algorithm
---i


#### 需要的辅助方法

> ```go
> package listnode
>
> type SingleNode struct {
>   Val int
> 	Next *SingleNode
> }
>
> // 从切片重建链表
> func BuildSingleNode(array []int) *SingleNode {
> 	head := &SingleNode{}
> 	previous := head
> 	for _, val := range array {
> 		node := &SingleNode{
> 			Val: val,
> 			//Next: nil,
> 		}
> 		previous.Next = node
> 		previous = node
> 	}
>
> 	return head.Next
> }
>
> // 遍历链表
> func OrderListNode(head *SingleNode) []int {
> 	var resultList []int
> 	for head != nil {
> 		resultList = append(resultList, head.Val)
> 		head = head.Next
> 	}
>
> 	return resultList
> }
>
> ```

#### 反转整个链表

> ```go
> package listnode
>
> type SingleNode struct {
>   Val int
> 	Next *SingleNode
> }
>
> // 虚拟头节点
> var DummyHead = &SingleNode{}
> var Previous = DummyHead
>
> // 递归的方式反转
> func ReverseLinkNodeRecur(head *SingleNode) *SingleNode {
> 	if head == nil {
> 		return Previous
> 	}
>
> 	ReverseLinkNodeRecur(head.Next)
>
> 	Previous.Next = head
> 	Previous = head
> 	head.Next = nil
>
> 	return Previous
> }
>
> ```

#### 反转链表的前k个节点

> ```go
> package listnode
>
> import "fmt"
>
> type SingleNode struct {
>   Val int
> 	Next *SingleNode
> }
>
> // 虚拟头节点
> var DummyHead = &SingleNode{}
> var Previous = DummyHead
> // 部分反转：后半部分的头节点
> var TempHead = &SingleNode{}
>
>
> // number传1
> func ReversePreKListNode(head *SingleNode, k int, number int) *SingleNode {
> 	if head == nil {
> 		return Previous
> 	}
>
>   // 将第k+1个节点记下来
> 	if number == k {
> 		TempHead = head.Next
> 	}
>
>   // 这个条件限制只反转前k个节点
> 	if number < k {
> 		ReversePreKListNode(head.Next, k, number + 1)
> 	}
>
> 	Previous.Next = head
> 	Previous = head
> 	head.Next = nil
>
> 	return Previous
> }
>
> // test
> func UnitTest() {
>   list := []int{1, 2, 3, 4}
>   head := BuildSingleNode(list)
>
>   k, number := 2, 1
>   reversedHead := ReversePreKListNode(head, k, number)
>   // 将反转后的前半部分的链表和后半部分没有反转的连起来
>   reversedHead.Next = TempHead
>   fmt.Println(OrderListNode(DummyHead.Next))
> }
>
> ```
>
> ```go
> package main
>
> import "listnode"
>
> func main() {
>   listnode.UnitTest()
> }
> ```
>
>
